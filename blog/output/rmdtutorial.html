<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <base target="_blank">
  <title>HTML5 Documents or Slides with R Markdown</title>
  <meta name="author" content="Mauricio Vargas S. 帕夏">

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="description" content="HTML5 Documents or Slides with R Markdown written December 17, 2015 in r,rstudio,rmarkdown,tutorials">

  <link rel="canonical" href="./rmdtutorial.html">

  <link href="../favicon.ico" rel="icon">


  <link href="theme/css/screen.css"  media="screen, projection" rel="stylesheet" type="text/css" />
  <link href="theme/css/tomorrow.css"  media="screen, projection" rel="stylesheet" type="text/css" />
  <link href="theme/css/font-awesome.min.css"  media="screen, projection" rel="stylesheet" type="text/css" />

  <script src="theme/js/modernizr-custom.js"></script>
  <script src="theme/js/jquery-2.2.3.min.js"></script>
  
</head>
  <body>
    <a href="/" class="home-icon">
      <img src="theme/images/home.png"/>
    </a>
<article role="article" class="full-single-article">
  <div class="container">
    <div class="row">
      <div class="col-md-offset-1 col-md-10">
        <h1><b>HTML5 Documents or Slides with R Markdown</b></h1>
        <div class="meta">
          written <time datetime="2015-12-17T00:00:00+08:00">December 17, 2015</time>
          in <span class="categories">
            <a href="./tag/r.html">r</a>,            <a href="./tag/rstudio.html">rstudio</a>,            <a href="./tag/rmarkdown.html">rmarkdown</a>,            <a href="./tag/tutorials.html">tutorials</a>          </span>
        </div>
        <h2>Motivation</h2>
<p>Last term I taught Data Analysis at <a href="http://www.unab.cl" target="_blank">UNAB</a> and I had to find a way to combine slides and R code.</p>
<h2>Problem</h2>
<p>You can write but you can't run R code from TeXShop or other editor. LaTeX Beamer is a good option but it has that big flaw. In addition, some of my students used to study from their tablets and smartphones and they complained about missing characters when reading pdf presentations.</p>
<h2>Solution</h2>
<p>R Markdown allows you to create Rmd documents where you can write text and add both LaTeX and R code with html or pdf output. You can also embed Google Fonts to your presentation and missing characters won't be an issue anymore.</p>
<h2>Building a document/presentation</h2>
<p>In RStudio is quite easy and with 2-3 clicks you are ready to go but here I'm presenting some additional steps that will do the magic.</p>
<h2>Basic Steps</h2>
<p>Create a new document, edit the content and you are ready to go. The first time you do this RStudio will ask you to download some libraries.
<img src="../content/rmdtutorial/img1.png" alt="img1">
<img src="../content/rmdtutorial/img2.png" alt="img2"></p>
<p>After you create your document the first lines are like these:</p>
<div class="highlight"><pre><span class="o">---</span>
title<span class="o">:</span> <span class="s">&quot;DOCUMENT&quot;</span>
author<span class="o">:</span> <span class="s">&quot;Pachamaltese&quot;</span>
<span class="kp">date</span><span class="o">:</span> <span class="s">&quot;December 2, 2015&quot;</span>
output<span class="o">:</span> html_document
<span class="o">---</span>
</pre></div>


<p>To insert LaTeX equations just use <span class="math">\( (e.g. <code>$a+b$</code>=\)</span>a+b$) and to insert R code click "chunks"
<img src="../content/rmdtutorial/img3.png" alt="img3"></p>
<p>R Markdown chunks contain options </p>
<ul>
<li><code>eval = TRUE/FALSE</code> to run (do not run) code</li>
<li><code>echo = TRUE/FALSE</code> to display/hide the involved code</li>
</ul>
<p>Here is an example. I show you the result and the code using <code>eval=FALSE</code>.</p>
<h3>Using <code>echo=TRUE</code></h3>
<div class="highlight"><pre><span class="p">{</span>r<span class="p">,</span> echo<span class="o">=</span><span class="kc">TRUE</span><span class="p">}</span>
plot<span class="p">(</span>cars<span class="p">)</span>
</pre></div>


<p>Results in</p>
<div class="highlight"><pre>plot<span class="p">(</span>cars<span class="p">)</span>
</pre></div>


<p><img src="../content/rmdtutorial/plot-1-1.png" title="plot of chunk plot-1" alt="plot of chunk plot-1" style="display: block; margin: auto;" /></p>
<h3>Using <code>echo=FALSE</code></h3>
<div class="highlight"><pre><span class="p">{</span>r<span class="p">,</span> echo<span class="o">=</span><span class="kc">FALSE</span><span class="p">}</span>
plot<span class="p">(</span>cars<span class="p">)</span>
</pre></div>


<p>Results in</p>
<p><img src="../content/rmdtutorial/plot-2-1.png" title="plot of chunk plot-2" alt="plot of chunk plot-2" style="display: block; margin: auto;" /></p>
<p>To obtain the output click on Knit HTML (or Knit PDF) </p>
<p><img src="../content/rmdtutorial/img4.png" alt="img4">
<img src="../content/rmdtutorial/img5.png" alt="img5"></p>
<p>What you'll obtain will be something like this</p>
<p><img src="../content/rmdtutorial/img6.png" width="100%" alt="img6">
<img src="../content/rmdtutorial/img7.png" width="100%" alt="img7"></p>
<h3>Adjusting images</h3>
<p>Figure width and height can be configured as you wish. For example</p>
<div class="highlight"><pre><span class="p">{</span>r<span class="p">,</span> echo<span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span> fig.height<span class="o">=</span><span class="m">3</span><span class="p">,</span> fig.width<span class="o">=</span><span class="m">4</span><span class="p">}</span>
plot<span class="p">(</span>cars<span class="p">)</span>
</pre></div>


<p><img src="../content/rmdtutorial/plot-3-1.png" title="plot of chunk plot-3" alt="plot of chunk plot-3" style="display: block; margin: auto;" /></p>
<h3>Creating lightweight documents</h3>
<p>If you want your html file to be as light as possible one option is to use <code>vignette_html</code>. To to that you need to modify the first lines of your Rmd file like this:</p>
<div class="highlight"><pre><span class="o">---</span>
title<span class="o">:</span> <span class="s">&quot;DOCUMENT&quot;</span>
author<span class="o">:</span> <span class="s">&quot;Pachamaltese&quot;</span>
output<span class="o">:</span> 
      rmarkdown<span class="o">::</span>html_vignette<span class="o">:</span>
<span class="o">---</span>
</pre></div>


<h3>Creating customized presentations</h3>
<p>I saw a good design from the excellent <a href="https://www.coursera.org/course/regmods">Regression Models</a> unit on Coursera by <a href="https://twitter.com/bcaffo">Brian Caffo</a> and team. I adapted that design allowing several authors and more customization to produce my <a href="http://pachamaltese.github.io/analisis-de-datos-unab/" target="_blank">course material</a> (the Rmd and style files are available <a href="https://github.com/pachamaltese/analisis-de-datos-unab" target="_blank">here</a>). To obtain the same result you need to change the first lines of your Rmd file like this:</p>
<div class="highlight"><pre><span class="o">---</span>
title<span class="o">:</span> <span class="s">&quot;PRESENTATION&quot;</span>
author<span class="o">:</span> <span class="s">&quot;AUTHOR 1&quot;</span>
hitheme<span class="o">:</span> tomorrow
framework<span class="o">:</span> io2012
knit <span class="o">:</span> slidify<span class="o">::</span>knit2slides
<span class="o">---</span>
</pre></div>


<h3>Further reading</h3>
<ul>
<li><a href="http://yihui.name/knitr/">Knitr</a> - chunks options</li>
<li><a href="http://slidify.org" target="_blank">Slidify</a> - changing styles and animations</li>
</ul>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
        <hr class="divider-short"/>
        <!-- Disqus goes here -->
        <!-- <section>
          <h1>Comments</h1>
          <div id="disqus_thread" aria-live="polite">Disqus goes here</div>
        </section>
        -->
      </div>
    </div>
  </div>
</article>
    <footer id="footer" class="her-row">
      <div class="container">
        <div class="row">
          <div class="col-md-1">
            <a href="/"><h4>Home</h4></a>
          </div>

          <div class="col-md-2">
            <div class="social-icon-list">
              <a title="Twitter" href="https://twitter.com/pachamaltese"><i class="fa fa-twitter fa-1x fa-pull-left fa-border"></i></a>
              <a title="GitHub" href="https://github.com/pachamaltese"><i class="fa fa-github fa-1x fa-pull-left fa-border"></i></a>
              <a title="LinkedIn" href="https://linkedin.com/in/mvargassepulveda"><i class="fa fa-linkedin fa-1x fa-pull-left fa-border"></i></a>
              <a title="E-Mail" href="mailto:mauriciovargas@ug.uchile.cl"><i class="fa fa-envelope fa-1x fa-pull-left fa-border"></i></a>
              <a title="LinkedIn" href="http://www.slideshare.net/pachamaltese"><i class="fa fa-slideshare fa-1x fa-pull-left fa-border"></i></a>
            </div>
          </div>
          <div class="pull-right">
            <h4>Powered by <a href="http://blog.getpelican.com/">Pelican</a>. Original design by <a href="http://AdrianArtiles.com">Adrian Artiles</a>. CC-BY-NC-SA-4.0 License <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><i class="fa fa-creative-commons"></i></a></h4>
          </div>
        </div>
      </div>
    </footer>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-65764144-1', 'auto');
      ga('send', 'pageview');
    
    </script>
    
    <!-- Custom Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Noto+Sans' rel='stylesheet' type='text/css'>
  </body>
</html>